# Define el comportamiento
spring.application.name=Solicitudes
server.port=${SERVER_PORT:8002}

spring.datasource.driver-class-name=com.microsoft.sqlserver.jdbc.SQLServerDriver
# Por defecto apunta al servicio 'db' en docker-compose, pero puede sobrescribirse con SPRING_DATASOURCE_URL
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:sqlserver://db:1433;databaseName=tpi_logistica_db;encrypt=false;trustServerCertificate=true;}
spring.datasource.username=${DB_USER:sa}
spring.datasource.password=${DB_PASSWORD:YourStrong!Passw0rd}

spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.SQLServer2012Dialect

# Corregida la propiedad y configurable via KEYCLOAK_ISSUER_URI (por defecto apunta al servicio keycloak)
spring.security.oauth2.resourceserver.jwt.issuer-uri=${KEYCLOAK_ISSUER_URI:http://keycloak:8080/realms/backend-tps}

service.usuarios.url=${SERVICE_USUARIOS_URL:http://localhost:8001}
service.inventario.url=${SERVICE_INVENTARIO_URL:http://localhost:8003}
service.viajes.url=${SERVICE_VIAJES_URL:http://localhost:8004}
service.tarifas.url=${SERVICE_TARIFAS_URL:http://localhost:8005}
